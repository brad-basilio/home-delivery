import{j as e}from"./FileViewer-DkaHswXt.js";import{r}from"./TrackingPixels-B80Lgev0.js";const F=({id:t,col:i,label:l,eRef:s,required:u=!1,onChange:m=()=>{},aspect:p="21/9",fit:d="cover",onError:f="/api/cover/thumbnail/null",overlayColor:a=null,showColorOverlay:g=!1,className:h=""})=>{t||(t=`ck-${crypto.randomUUID()}`),s||(s=r.useRef());const n=r.useRef(),[c,b]=r.useState(a);r.useEffect(()=>{b(a)},[a]);const x=async o=>{const j=o.target.files[0],y=await File.toURL(j);n.current.src=y,m(o)};return r.useEffect(()=>{s.image=n.current},[null]),e.jsxs("div",{className:`form-group ${i} mb-1`,children:[e.jsxs("label",{htmlFor:t,className:"mb-1",children:[l," ",u&&e.jsx("b",{className:"text-danger",children:"*"})]}),e.jsxs("label",{htmlFor:t,style:{width:"100%",position:"relative"},children:[e.jsx("img",{ref:n,className:`d-block bg-secondary ${h}`,src:"",alt:"aspect-video",onError:o=>o.target.src=f,style:{width:"100%",borderRadius:"4px",cursor:"pointer",aspectRatio:p,objectFit:d,objectPosition:"center"}}),g&&c&&c!=="transparent"&&e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:c,opacity:.3,borderRadius:"4px",pointerEvents:"none"}})]}),e.jsx("input",{ref:s,id:t,type:"file",src:"",alt:"",hidden:!0,accept:"image/*",onChange:x})]})};export{F as I};
