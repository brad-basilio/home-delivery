import{j as e}from"./FileViewer-DkaHswXt.js";import{r as i}from"./TrackingPixels-B80Lgev0.js";import{C as z}from"./Detail-DZYlFpS4.js";import{G as J}from"./GeneralRest-DRwja8Cw.js";import{u as Y}from"./useTranslation-BOupZ7-X.js";import{a as Q}from"./Filter-BZ5YA63n.js";import{m as a}from"./proxy-Ci5QcTMU.js";import{A as j}from"./index-CMaWESfh.js";const A=new J,N={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},d={hidden:{y:-20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.4,ease:"easeOut"}}},Z={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,y:-20,transition:{duration:.2}}},ee={hidden:{x:50,opacity:0},visible:{x:0,opacity:1,transition:{duration:.3}},exit:{x:-50,opacity:0,transition:{duration:.2}}},he=({session:te,showSlogan:$=!0,gradientStart:ae,menuGradientEnd:se,backgroundType:o="none",backgroundSrc:C="",backgroundHeight:O="h-full",backgroundPosition:S="object-top",children:k})=>{const{t:l,loading:ie,error:le}=Y(),[g,x]=i.useState(!1),b=i.useRef(null),v=i.useRef(null),{incrementarCantidad:H,decrementarCantidad:P}=i.useContext(z),q=t=>{t.target.closest(".menu-toggle")?x(!g):x(!1)};i.useEffect(()=>{const t=s=>{v.current==s.target||v.current.contains(s.target)||b.current&&!b.current.contains(s.target)&&x(!1)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]);const[w,B]=i.useState(!1);i.useEffect(()=>{const t=()=>{B(window.scrollY>50)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]);const{carrito:m,eliminarProducto:M}=i.useContext(z),[ne,E]=i.useState(!1),F=m.reduce((t,s)=>s.variations&&s.variations.length>0?t+s.variations.reduce((n,c)=>n+c.quantity,0):t+s.quantity,0);i.useEffect(()=>{F>0&&(E(!0),setTimeout(()=>E(!1),500))},[F]);const[_,V]=i.useState(!1),L=m.reduce((t,s)=>s.variations&&s.variations.length>0?t+s.variations.reduce((n,c)=>n+s.final_price*c.quantity,0):t+s.final_price*s.quantity,0),[p,W]=i.useState([]),[r,G]=i.useState([]);i.useEffect(()=>{(async()=>{try{const s=await A.getSocials(),n=await A.getLanguages();W(s),G(n)}catch(s){console.error("Error fetching socials:",s)}})()},[]),p.find(t=>t.description==="TikTok");const T=p.find(t=>t.description==="WhatsApp");p.find(t=>t.description==="Instagram"),p.find(t=>t.description==="Facebook");const[X,R]=i.useState("/");i.useEffect(()=>{const t=window.location.pathname;R(t)},[]);const I=t=>{R(t)},u=t=>X===t,{currentLanguage:h,changeLanguage:K}=i.useContext(Q),[f,y]=i.useState(h||r[0]);i.useEffect(()=>{h?y(h):r.length>0&&y(r[0])},[h,r]);const U=async t=>{try{const s=await fetch("/set-current-lang",{method:"POST",headers:{"Content-Type":"application/json","X-XSRF-TOKEN":D()},body:JSON.stringify({lang_id:t.id}),credentials:"include"});s.ok?(await K(t),y(t),window.location.reload()):console.log("Error de extracion:",await s.text())}catch(s){console.error("Error de red:",s)}},D=()=>{const t=document.cookie.match(/XSRF-TOKEN=([^;]+)/);return t?decodeURIComponent(t[1]):null};return e.jsxs(e.Fragment,{children:[$&&e.jsx(a.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:`text-center px-[5%] py-3 lg:py-2 font-light bg-[#224483] text-white text-[10.21px] md:text-[16.21px] leading-6 uppercase tracking-[0.2em] font-poppins w-full h-[42px] lg:h-7 ${o==="none"&&"mb-0"}`}),e.jsxs("div",{className:`w-full max-w-full relative ${O} overflow-clip`,children:[o==="image"&&e.jsx(a.img,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},src:C,className:`absolute -z-10 inset-0 w-screen h-full object-cover ${S}`,alt:"Background"}),o==="video"&&e.jsx(a.video,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:`absolute -z-10 inset-0 w-screen h-full object-cover ${S}`,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",disablePictureInPicture:!0,disableRemotePlayback:!0,"webkit-playsinline":"true",children:e.jsx("source",{src:C,type:"video/mp4"})}),(o==="image"||o==="video")&&e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.2},className:"absolute inset-0",style:{background:"linear-gradient(180deg, rgba(95, 72, 183, 0.75) 6.08%, rgba(96, 72, 183, 0.525) 100%)"}}),e.jsxs(a.header,{initial:"hidden",animate:"visible",variants:N,className:`font-poppins static lg:w-full top-0 overflow-hidden z-40 transition-colors duration-300 ${o==="none"?"bg-transparent mt-0":w?"bg-[#224483] pt-0 !mt-0":"bg-transparent top-4 pt-8 md:pt-14 lg:pt-10"} ${w&&"bg-[#224483] pt-0 !mt-0 transition-all duration-150"}`,children:[e.jsxs("div",{className:"px-[5%] w-screen py-4 lg:py-0 lg:max-w-[82rem] 2xl:max-w-[92rem] mx-auto flex justify-between items-center text-[#242424] shadow-lg lg:shadow-none",children:[e.jsx(a.div,{variants:d,className:"flex items-center",children:e.jsx("a",{href:"/",children:e.jsx(a.img,{whileHover:{scale:1.05},src:"/assets/img/logo.png",alt:"NoPain Logo",className:"h-[40px] w-auto md:h-[50px] object-cover object-top"})})}),e.jsx(a.div,{variants:N,className:"hidden lg:flex py-6 mx-auto justify-center items-center font-normal text-base",children:e.jsx("nav",{className:"flex gap-2",children:["/","/services","/about","/offices","/contact","/blog"].map(t=>{const s={"/":l("public.header.home","Inicio"),"/services":l("public.header.services","Servicios"),"/about":l("public.header.aboutus","Nosotros"),"/offices":l("public.header.facilities","Instalaciones"),"/contact":l("public.header.contac","Contacto"),"/blog":l("public.header.blog","Blog")}[t];return e.jsxs(a.a,{href:t,onClick:()=>I(t),variants:d,whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative py-2 rounded-full transition-all duration-300 ${u(t)?"bg-[#EFF0F1] pl-7 pr-3":"bg-transparent px-5"}`,children:[s,u(t)&&e.jsx(a.span,{layoutId:"activeDot",className:"absolute  left-3 top-[40%] -translate-x-1/2 -translate-y-1/2 h-2 w-2 bg-[#224483] rounded-full"})]},t)})})}),e.jsx(a.div,{variants:d,className:"flex h-full items-center gap-4 justify-end",children:f&&r&&(r==null?void 0:r.map(t=>e.jsx(a.img,{onClick:()=>U(t),whileHover:{y:-2},src:`/api/lang/media/${t.image}`,alt:t.name,className:`h-8 w-auto object-cover rounded-lg overflow-hidden${(f==null?void 0:f.id)===t.id?" border-2 border-[#224483] shadow-2xl":""}`},t.id)))}),e.jsx(a.div,{variants:d,className:"lg:hidden text-base",children:e.jsx("div",{children:e.jsx(a.button,{ref:v,onClick:q,whileTap:{scale:.9},className:"text-white menu-toggle rounded-full h-[50px] w-[50px] flex items-center justify-center bg-[#EFF0F1]","aria-label":"Toggle menu",children:e.jsx("div",{className:"text-[#242424]",children:e.jsx("i",{className:`fas ${g?"fa-times":"fa-bars"} text-xl md:text-2xl py-3 px-3`})})})})})]}),T&&e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex justify-end w-full mx-auto z-[100] relative",children:e.jsx("div",{className:"fixed bottom-3 right-2 md:bottom-[1rem] lg:bottom-[2rem] lg:right-3 z-20 cursor-pointer",children:e.jsx("a",{target:"_blank",id:"whatsapp-toggle",href:T.link,children:e.jsx(a.img,{animate:{y:[0,-10,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},src:"/assets/img/icons/WhatsApp.svg",alt:"whatsapp",className:"mr-3 w-16 h-16 md:w-[80px] md:h-[80px]"})})})})]}),e.jsx(j,{children:g&&e.jsx(a.div,{ref:b,initial:"hidden",animate:"visible",exit:"exit",variants:Z,className:`fixed md:top-20 inset-0 text-white z-[999] ${w?"top-[3.75rem] bg-[#224483]":"top-28 bg-[#224483]"} p-[5%] h-max overflow-y-auto`,children:e.jsx(a.ul,{variants:N,className:"flex flex-col gap-4 items-center justify-center",children:["/","/services","/about","/offices","/contact","/blog"].map(t=>{const s={"/":l("public.header.home","Inicio"),"/services":l("public.header.services","Servicios"),"/about":l("public.header.aboutus","Nosotros"),"/offices":l("public.header.facilities","Instalaciones"),"/contact":l("public.header.contac","Contacto"),"/blog":l("public.header.blog","Blog")}[t];return e.jsx(a.li,{variants:d,children:e.jsxs("a",{href:t,onClick:()=>{I(t),x(!1)},className:`relative py-2 rounded-full transition-all duration-300 ${u(t)?"bg-[#EFF0F1] pl-8 pr-3 text-azul":"bg-transparent px-5 text-white"}`,children:[s,u(t)&&e.jsx("span",{className:"absolute left-3 ml-2 top-[50%] -translate-x-1/2 -translate-y-1/2 h-2 w-2 bg-[#224483] rounded-full"})]})},t)})})})}),k&&e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"absolute inset-0 flex items-center justify-center text-center text-white p-6",children:k}),e.jsx(j,{children:_&&e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-start justify-end px-[5%] lg:px-0 pt-12 pb-12 overflow-y-auto z-50 scrollbar-hide",children:e.jsxs(a.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:100,opacity:0},transition:{type:"spring",damping:25},className:"bg-[#EFE5FF] shadow-lg w-full sm:max-w-[380px] lg:max-w-[700px] 2xl:max-w-[800px] h-max p-8 lg:p-14 rounded-[30px] lg:rounded-[50px]",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-[24.67px] lg:text-[44.67px] font-bold",children:"Tu Carrito"}),e.jsx(a.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>V(!1),className:"text-lg font-bold text-[#5F48B7]",children:"✖"})]}),e.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-[#9C79D4] py-2 text-[13.95px] md:text-[16.95px] lg:text-[26.95px] mt-4 mb-8 text-center rounded-[14px] lg:rounded-[20px] text-white",children:["¡Tienes envío gratis en lima!"," ",e.jsx(a.img,{animate:{rotate:[0,15,0]},transition:{repeat:1/0,duration:2},src:"/assets/img/emojis/motor-scooter.png",className:"h-[16.88px] lg:h-[26.88px] inline-flex ml-2"})," "]}),e.jsx("div",{className:"flex-1 gap-4",children:m.length===0?e.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full flex flex-col items-center justify-center gap-5 text-3xl h-max my-5",children:[e.jsx("img",{src:"/assets/img/logo.png",alt:"Wefem",className:"h-[58px] w-[330.55px] object-cover object-top",style:{textShadow:"0px 4px 7.5px 0px #00000040"}}),e.jsx("p",{className:"text-center text-gray-500",children:"Tu carrito está vacío"})]}):e.jsx(j,{children:m.map((t,s)=>e.jsxs(a.div,{variants:ee,initial:"hidden",animate:"visible",exit:"exit",layout:!0,className:"flex items-center gap-4 mb-4 w-full",children:[e.jsx(a.img,{layout:!0,src:`/api/items/media/${t.image}`,alt:t.name,onError:n=>n.target.src="/api/cover/thumbnail/null",className:"w-20 h-20 md:w-28 md:h-28 lg:w-52 lg:h-52 object-cover rounded-lg"}),e.jsxs("div",{className:"flex flex-col w-[calc(100%-5rem)] md:w-[calc(100%-7rem)] lg:w-[calc(100%-10rem)]",children:[e.jsxs("div",{className:"w-full flex",children:[e.jsxs("div",{className:"w-5/6 lg:w-8/12",children:[e.jsx("h3",{className:"text-[17.95px] md:text-[20.95px] lg:text-[24.95px] 2xl:text-[34.95px] font-normal leading-3 md:leading-[20.78px] lg:leading-[30.78px]",children:t.name}),t.summary&&e.jsxs("p",{className:"text-[10px] md:text-xs lg:text-[16.81px] 2xl:text-[25px] font-light inline-flex",children:["(",t.summary,")"]}),t.discount&&e.jsxs(a.p,{whileHover:{scale:1.02},className:"w-11/12 md:w-full h-[18.55px] md:h-[25.55px] lg:h-[35.55px] bg-[#212529] text-white rounded-[5.44px] mb-2 md:my-2 lg:my-4 flex items-center justify-center text-[8.65px] md:text-[9.65px] 2xl:text-[16.65px] font-semibold leading-[21.75px]",children:[e.jsx("span",{className:"font-medium md:font-bold text-[7.65px] md:text-[9.65px] 2xl:text-[16.65px] mr-2",children:"ESTAS AHORRANDO"})," ","S/"," ",Number(t.price-t.discount).toFixed(0)," ",e.jsx("img",{src:"/assets/img/emojis/fire.png",className:"h-[9.88px] 2xl:h-[16px] inline-flex ml-2"})]})]}),e.jsx("div",{className:"w-1/6 lg:w-4/12 flex items-start justify-end",children:e.jsx(a.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"group text-white px-2 py-1 rounded-md hover:fill-red-500 transition-all duration-300",onClick:()=>M(t.id),children:e.jsx("div",{className:"h-10 lg:h-12 scale-x-[-1]",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:"h-full w-4 lg:w-5 relative",fill:"current",children:[e.jsx("path",{className:"group-hover:-rotate-12 group-hover:absolute group-hover:inset-0",fill:"current",d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3z"}),e.jsx("path",{fill:"current",d:"M32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"})]})})})})]}),e.jsxs("div",{className:"w-full flex",children:[e.jsx("div",{className:"w-1/2 md:w-4/6 lg:w-1/2 h-full flex",children:e.jsxs("p",{className:"text-[18.42px] md:text-[24.42px] h-full items-center lg:text-[35.33px] 2xl:text-[45.33px] font-bold text-[#5F48B7]",children:["S/"," ",Number(t.final_price).toFixed(2)]})}),e.jsx("div",{className:"w-1/2 md:w-2/6 lg:w-1/2 h-full lg:h-14",children:e.jsxs("div",{className:"flex h-full text-[#000000] bg-transparent border border-black items-center justify-around rounded-[8px] md:rounded-[10px]",children:[e.jsx(a.button,{whileTap:{scale:.8},className:"h-full md:w-8 md:h-8 text-xs md:text-base 2xl:text-2xl",onClick:()=>P(t.id),children:"-"}),e.jsx("span",{className:"h-full flex items-center text-xs md:text-base 2xl:text-2xl font-medium",children:t.variations&&t.variations.length>0?t.variations.reduce((n,c)=>n+c.quantity,0):t.quantity}),e.jsx(a.button,{whileTap:{scale:.8},className:"h-6 md:w-8 md:h-8 text-xs md:text-base 2xl:text-2xl",onClick:()=>H(t.id),children:"+"})]})})]})]})]},t.id))})}),L>0&&e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"w-full mt-8",children:[e.jsxs("div",{className:"w-full flex items-center justify-between my-6",children:[e.jsx("p",{className:"text-[25.42px] md:text-[50.42px] lg:text-[45.33px] 2xl:text-[51.33px] font-bold text-black",children:"Subtotal"}),e.jsxs("p",{className:"text-[25.42px] md:text-[50.42px] lg:text-[45.33px] 2xl:text-[51.33px] font-bold text-black",children:["S/ ",L.toFixed(2)]})]}),e.jsx(a.a,{whileHover:{scale:1.02},whileTap:{scale:.98},href:"/checkout",className:"block text-center text-[20.76px] md:text-[25.76px] lg:text-[34.76px] 2xl:text-[36.76px] w-full font-semibold rounded-[12.11px] lg:rounded-[15.11px] bg-[#FF9900] text-white py-3 2xl:py-4 hover:bg-opacity-90 transition-all duration-300",children:"IR A COMPRAR"}),e.jsx(a.div,{whileHover:{scale:1.01},className:"mt-6 relative w-full",children:e.jsx("img",{src:"/assets/img/checkout/banner-pagos.png",className:"w-full object-cover h-auto rounded-lg shadow-lg shadow-gray-500/20"})})]})]})})})]})]})};export{he as H};
